{
  "version": 3,
  "sources": ["angular:jit:template:src\\app\\pages\\gestion-obras\\nueva-obra\\nueva-obra.html", "angular:jit:style:src\\app\\pages\\gestion-obras\\nueva-obra\\nueva-obra.css", "src/app/pages/gestion-obras/nueva-obra/nueva-obra.ts", "src/app/pages/gestion-obras/nueva-obra/nueva-obra.spec.ts"],
  "sourcesContent": ["<div class=\"d-flex vh-100 overflow-hidden\">\r\n\r\n<aside class=\"sidebar text-white flex-shrink-0 p-3\" style=\"width:240px\">\r\n  <div class=\"d-flex align-items-center mb-4\">\r\n    <i class=\"bi bi-leaf-fill fs-4 me-2\"></i>\r\n    <span class=\"h5 mb-0\">EcoConstruct</span>\r\n  </div>\r\n\r\n  <nav class=\"nav flex-column\">\r\n\r\n    <small class=\"text-uppercase text-white-50 mb-2\">Principal</small>\r\n\r\n    <a\r\n      routerLink=\"/dashboard\"\r\n      routerLinkActive=\"active\"\r\n      [routerLinkActiveOptions]=\"{ exact: true }\"\r\n      class=\"nav-link text-white\"\r\n    >\r\n      <i class=\"bi bi-speedometer2 me-2\"></i>\r\n      Dashboard\r\n    </a>\r\n\r\n    <a\r\n      routerLink=\"/gestion-obras\"\r\n      routerLinkActive=\"active\"\r\n      class=\"nav-link text-white\"\r\n    >\r\n      <i class=\"bi bi-building me-2\"></i>\r\n      Gesti\u00F3n de Obras\r\n    </a>\r\n\r\n    <a\r\n      routerLink=\"/registro-residuos\"\r\n      routerLinkActive=\"active\"\r\n      class=\"nav-link text-white\"\r\n    >\r\n      <i class=\"bi bi-card-checklist me-2\"></i>\r\n      Registro de Residuos\r\n    </a>\r\n\r\n    <a\r\n      routerLink=\"/transporte\"\r\n      routerLinkActive=\"active\"\r\n      class=\"nav-link text-white\"\r\n    >\r\n      <i class=\"bi bi-truck me-2\"></i>\r\n      Transporte\r\n    </a>\r\n\r\n    <a\r\n      routerLink=\"/historial-trazabilidad\"\r\n      routerLinkActive=\"active\"\r\n      class=\"nav-link text-white\"\r\n    >\r\n      <i class=\"bi bi-clock-history me-2\"></i>\r\n      Historial y Trazabilidad\r\n    </a>\r\n\r\n    <a\r\n      routerLink=\"/reportes\"\r\n      routerLinkActive=\"active\"\r\n      class=\"nav-link text-white\"\r\n    >\r\n      <i class=\"bi bi-bar-chart me-2\"></i>\r\n      Reportes\r\n    </a>\r\n\r\n    <hr class=\"border-light\">\r\n\r\n    <small class=\"text-uppercase text-white-50 mb-2\">Sistema</small>\r\n    <a\r\n      routerLink=\"/perfil\"\r\n      routerLinkActive=\"active\"\r\n      class=\"nav-link text-white\"\r\n    >\r\n      <i class=\"bi bi-person-circle me-2\"></i>\r\n      Perfil\r\n    </a>\r\n    <a\r\n      routerLink=\"/configuracion\"\r\n      routerLinkActive=\"active\"\r\n      class=\"nav-link text-white\"\r\n    >\r\n      <i class=\"bi bi-gear me-2\"></i>\r\n      Configuraci\u00F3n\r\n    </a>\r\n          <a routerLink=\"/usuarios\"\r\n         routerLinkActive=\"active\"\r\n         class=\"nav-link text-white mt-2\">\r\n        <i class=\"bi bi-people me-2\"></i>Usuarios\r\n      </a>\r\n  </nav>\r\n</aside>\r\n\r\n  <main class=\"flex-grow-1 p-4 overflow-auto\">\r\n    <button class=\"btn btn-outline-secondary mb-3\" (click)=\"cancelar()\">\r\n      \u2190 Volver\r\n    </button>\r\n\r\n    <h2>Nueva Obra</h2>\r\n    <small class=\"text-muted d-block mb-4\">\r\n      Registra una nueva obra de construcci\u00F3n en el sistema\r\n    </small>\r\n\r\n    <div class=\"card shadow-sm\">\r\n      <div class=\"card-body\">\r\n        <h5 class=\"card-title mb-4\">Informaci\u00F3n de la Obra</h5>\r\n\r\n        <form (ngSubmit)=\"crearObra()\" #f=\"ngForm\">\r\n          <div class=\"row g-3\">\r\n            <div class=\"col-md-6\">\r\n              <label class=\"form-label\">Nombre de la Obra *</label>\r\n              <input type=\"text\" class=\"form-control\" required\r\n                     [(ngModel)]=\"obra.nombre\" name=\"nombre\"\r\n                     placeholder=\"Ej: Torre Residencial Norte\">\r\n            </div>\r\n            <div class=\"col-md-6\">\r\n              <label class=\"form-label\">Ubicaci\u00F3n *</label>\r\n              <input type=\"text\" class=\"form-control\" required\r\n                     [(ngModel)]=\"obra.ubicacion\" name=\"ubicacion\"\r\n                     placeholder=\"Ej: Las Condes, Santiago\">\r\n            </div>\r\n\r\n            <div class=\"col-md-6\">\r\n              <label class=\"form-label\">Constructora *</label>\r\n              <input type=\"text\" class=\"form-control\" required\r\n                     [(ngModel)]=\"obra.constructora\" name=\"constructora\"\r\n                     placeholder=\"Ej: Constructora ABC\">\r\n            </div>\r\n            <div class=\"col-md-6\">\r\n              <label class=\"form-label\">Encargado Ambiental *</label>\r\n              <input type=\"text\" class=\"form-control\" required\r\n                     [(ngModel)]=\"obra.encargado\" name=\"encargado\"\r\n                     placeholder=\"Ej: Juan P\u00E9rez\">\r\n            </div>\r\n\r\n            <div class=\"col-md-6\">\r\n              <label class=\"form-label\">Fecha de Inicio *</label>\r\n              <input type=\"date\" class=\"form-control\" required\r\n                     [(ngModel)]=\"obra.fechaInicio\" name=\"fechaInicio\">\r\n            </div>\r\n            <div class=\"col-md-6\">\r\n              <label class=\"form-label\">Fecha de Finalizaci\u00F3n Estimada *</label>\r\n              <input type=\"date\" class=\"form-control\" required\r\n                     [(ngModel)]=\"obra.fechaFin\" name=\"fechaFin\">\r\n            </div>\r\n\r\n            <div class=\"col-md-6\">\r\n              <label class=\"form-label\">Tipo de Obra *</label>\r\n              <select class=\"form-select\" required\r\n                      [(ngModel)]=\"obra.tipo\" name=\"tipo\">\r\n                <option value=\"\" disabled selected>Seleccionar tipo</option>\r\n                <option *ngFor=\"let t of tipos\" [value]=\"t\">{{ t }}</option>\r\n              </select>\r\n            </div>\r\n            <div class=\"col-md-6\">\r\n              <label class=\"form-label\">Estado Inicial</label>\r\n              <select class=\"form-select\"\r\n                      [(ngModel)]=\"obra.estado\" name=\"estado\">\r\n                <option value=\"\" disabled selected>Seleccionar estado</option>\r\n                <option *ngFor=\"let s of estados\" [value]=\"s\">{{ s }}</option>\r\n              </select>\r\n            </div>\r\n\r\n            <div class=\"col-12\">\r\n              <label class=\"form-label\">Descripci\u00F3n</label>\r\n              <textarea class=\"form-control\" rows=\"4\"\r\n                        [(ngModel)]=\"obra.descripcion\" name=\"descripcion\"\r\n                        placeholder=\"Descripci\u00F3n detallada de la obra (opcional)\"></textarea>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"mt-4 d-flex gap-2\">\r\n            <button type=\"submit\" class=\"btn btn-success\" [disabled]=\"f.invalid\">\r\n              <i class=\"bi bi-save me-1\"></i>Crear Obra\r\n            </button>\r\n            <button type=\"button\" class=\"btn btn-outline-secondary\" (click)=\"cancelar()\">Cancelar</button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </main>\r\n</div>\r\n", "/* src/app/pages/gestion-obras/nueva-obra/nueva-obra.css */\n:host {\n  display: flex;\n  height: 100vh;\n}\n.sidebar {\n  width: 240px;\n  background-color: #16a249;\n  color: white;\n  padding: 2rem 1rem;\n  display: flex;\n  flex-direction: column;\n}\n.logo-icon {\n  font-size: 1.5rem;\n}\n.brand {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  margin-bottom: 2rem;\n}\n.brand-name {\n  font-weight: 700;\n  font-size: 1.2rem;\n}\n.nav-section {\n  flex: 1;\n}\n.nav-section-title {\n  text-transform: uppercase;\n  font-size: 0.75rem;\n  opacity: 0.7;\n  margin: 1rem 0 0.5rem;\n}\n.nav-link {\n  color: white;\n  font-size: 0.9rem;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.25rem 0;\n  text-decoration: none;\n  transition: opacity .2s;\n}\n.nav-link.active,\n.nav-link:hover {\n  opacity: 0.8;\n}\n.obra-card {\n  border-radius: .75rem;\n}\n.obra-card h5 {\n  font-weight: 600;\n}\n.obra-card .badge {\n  font-size: .75rem;\n  text-transform: none;\n  padding: .4em .8em;\n}\n.progress {\n  background-color: #e9ecef;\n}\n.progress-bar {\n  transition: width .6s ease;\n}\nmain {\n  flex-grow: 1;\n  background: #f8f9fa;\n}\n.card {\n  max-width: 900px;\n  margin: 0 auto;\n}\n.btn-outline-secondary {\n  font-size: 0.9rem;\n}\n/*# sourceMappingURL=nueva-obra.css.map */\n", "import { Component } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule, Router } from '@angular/router';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\ninterface Obra {\r\n  nombre: string;\r\n  ubicacion: string;\r\n  constructora: string;\r\n  encargado: string;\r\n  fechaInicio: string;\r\n  fechaFin: string;\r\n  tipo: string;\r\n  estado: string;\r\n  descripcion: string;\r\n}\r\n\r\n@Component({\r\n  selector: 'app-nueva-obra',\r\n  standalone: true,\r\n  imports: [CommonModule, RouterModule, FormsModule],\r\n  templateUrl: './nueva-obra.html',\r\n  styleUrls: ['./nueva-obra.css']\r\n})\r\nexport class NuevaObraComponent {\r\n\r\n  obra: Obra = {\r\n    nombre: '',\r\n    ubicacion: '',\r\n    constructora: '',\r\n    encargado: '',\r\n    fechaInicio: '',\r\n    fechaFin: '',\r\n    tipo: '',\r\n    estado: '',\r\n    descripcion: ''\r\n  };\r\n\r\n  tipos = ['Residencial', 'Comercial', 'Industrial', 'Infraestructura'];\r\n  estados = ['Planificada', 'En progreso', 'Suspendida', 'Finalizada'];\r\n\r\n  constructor(private router: Router) {}\r\n\r\n  crearObra() {\r\n    console.log('Obra a crear:', this.obra);\r\n\r\n    this.router.navigate(['/gestion-obras']);\r\n  }\r\n\r\n  cancelar() {\r\n    this.router.navigate(['/gestion-obras']);\r\n  }\r\n}\r\n", "import { ComponentFixture, TestBed } from '@angular/core/testing';\r\nimport { NuevaObraComponent } from './nueva-obra';\r\nimport { Router } from '@angular/router';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule } from '@angular/router';\r\n\r\ndescribe('NuevaObraComponent', () => {\r\n  let component: NuevaObraComponent;\r\n  let fixture: ComponentFixture<NuevaObraComponent>;\r\n  let mockRouter: jasmine.SpyObj<Router>;\r\n\r\n  beforeEach(async () => {\r\n    mockRouter = jasmine.createSpyObj('Router', ['navigate']);\r\n\r\n    await TestBed.configureTestingModule({\r\n      imports: [NuevaObraComponent, FormsModule, CommonModule, RouterModule],\r\n      providers: [\r\n        { provide: Router, useValue: mockRouter }\r\n      ]\r\n    }).compileComponents();\r\n\r\n    fixture = TestBed.createComponent(NuevaObraComponent);\r\n    component = fixture.componentInstance;\r\n    fixture.detectChanges();\r\n  });\r\n\r\n  it('debería crearse correctamente', () => {\r\n    expect(component).toBeTruthy();\r\n  });\r\n\r\n  it('debería inicializar la obra con campos vacíos', () => {\r\n    expect(component.obra.nombre).toBe('');\r\n    expect(component.obra.descripcion).toBe('');\r\n    expect(component.obra.fechaInicio).toBe('');\r\n  });\r\n\r\n  it('crearObra debería redirigir a /gestion-obras', () => {\r\n    component.crearObra();\r\n    expect(mockRouter.navigate).toHaveBeenCalledWith(['/gestion-obras']);\r\n  });\r\n\r\n  it('cancelar debería redirigir a /gestion-obras', () => {\r\n    component.cancelar();\r\n    expect(mockRouter.navigate).toHaveBeenCalledWith(['/gestion-obras']);\r\n  });\r\n\r\n  it('debería contener 4 tipos de obra', () => {\r\n    expect(component.tipos.length).toBe(4);\r\n    expect(component.tipos).toContain('Residencial');\r\n  });\r\n\r\n  it('debería contener 4 estados de obra', () => {\r\n    expect(component.estados.length).toBe(4);\r\n    expect(component.estados).toContain('Finalizada');\r\n  });\r\n});\r\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;ACAA,IAAAA;AAAA,IAAAC,mBAAA;AAAA;AAAA,IAAAD,sBAAA;AAAA;AAAA;;;ICwBa;;;;;;;AAxBb;AACA;AACA;AACA;AAqBO,IAAM,qBAAN,MAAME,oBAAkB;MAiBT;MAfpB,OAAa;QACX,QAAQ;QACR,WAAW;QACX,cAAc;QACd,WAAW;QACX,aAAa;QACb,UAAU;QACV,MAAM;QACN,QAAQ;QACR,aAAa;;MAGf,QAAQ,CAAC,eAAe,aAAa,cAAc,iBAAiB;MACpE,UAAU,CAAC,eAAe,eAAe,cAAc,YAAY;MAEnE,YAAoB,QAAc;AAAd,aAAA,SAAA;MAAiB;MAErC,YAAS;AACP,gBAAQ,IAAI,iBAAiB,KAAK,IAAI;AAEtC,aAAK,OAAO,SAAS,CAAC,gBAAgB,CAAC;MACzC;MAEA,WAAQ;AACN,aAAK,OAAO,SAAS,CAAC,gBAAgB,CAAC;MACzC;;;;;AA3BW,yBAAkB,WAAA;MAP9B,UAAU;QACT,UAAU;QACV,YAAY;QACZ,SAAS,CAAC,cAAc,cAAc,WAAW;QACjD,UAAA;;OAED;OACY,kBAAkB;;;;;ACxB/B;;;AACA,IAAAC;AACA;AACA;AACA;AACA;AAEA,aAAS,sBAAsB,MAAK;AAClC,UAAI;AACJ,UAAI;AACJ,UAAI;AAEJ,iBAAW,MAAW;AACpB,qBAAa,QAAQ,aAAa,UAAU,CAAC,UAAU,CAAC;AAExD,cAAM,QAAQ,uBAAuB;UACnC,SAAS,CAAC,oBAAoB,aAAa,cAAc,YAAY;UACrE,WAAW;YACT,EAAE,SAAS,QAAQ,UAAU,WAAU;;SAE1C,EAAE,kBAAiB;AAEpB,kBAAU,QAAQ,gBAAgB,kBAAkB;AACpD,oBAAY,QAAQ;AACpB,gBAAQ,cAAa;MACvB,EAAC;AAED,SAAG,oCAAiC,MAAK;AACvC,eAAO,SAAS,EAAE,WAAU;MAC9B,CAAC;AAED,SAAG,uDAAiD,MAAK;AACvD,eAAO,UAAU,KAAK,MAAM,EAAE,KAAK,EAAE;AACrC,eAAO,UAAU,KAAK,WAAW,EAAE,KAAK,EAAE;AAC1C,eAAO,UAAU,KAAK,WAAW,EAAE,KAAK,EAAE;MAC5C,CAAC;AAED,SAAG,mDAAgD,MAAK;AACtD,kBAAU,UAAS;AACnB,eAAO,WAAW,QAAQ,EAAE,qBAAqB,CAAC,gBAAgB,CAAC;MACrE,CAAC;AAED,SAAG,kDAA+C,MAAK;AACrD,kBAAU,SAAQ;AAClB,eAAO,WAAW,QAAQ,EAAE,qBAAqB,CAAC,gBAAgB,CAAC;MACrE,CAAC;AAED,SAAG,uCAAoC,MAAK;AAC1C,eAAO,UAAU,MAAM,MAAM,EAAE,KAAK,CAAC;AACrC,eAAO,UAAU,KAAK,EAAE,UAAU,aAAa;MACjD,CAAC;AAED,SAAG,yCAAsC,MAAK;AAC5C,eAAO,UAAU,QAAQ,MAAM,EAAE,KAAK,CAAC;AACvC,eAAO,UAAU,OAAO,EAAE,UAAU,YAAY;MAClD,CAAC;IACH,CAAC;;;",
  "names": ["nueva_obra_default", "init_nueva_obra", "NuevaObraComponent", "init_nueva_obra"]
}
