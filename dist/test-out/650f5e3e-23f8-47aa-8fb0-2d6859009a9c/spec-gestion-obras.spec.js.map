{
  "version": 3,
  "sources": ["angular:jit:template:src\\app\\pages\\gestion-obras\\gestion-obras.html", "angular:jit:style:src\\app\\pages\\gestion-obras\\gestion-obras.css", "src/app/pages/gestion-obras/gestion-obras.ts", "src/app/pages/gestion-obras/gestion-obras.spec.ts"],
  "sourcesContent": ["<div class=\"d-flex vh-100 overflow-hidden\">\r\n\r\n<aside class=\"sidebar text-white flex-shrink-0 p-3\" style=\"width:240px\">\r\n  <div class=\"d-flex align-items-center mb-4\">\r\n    <i class=\"bi bi-leaf-fill fs-4 me-2\"></i>\r\n    <span class=\"h5 mb-0\">EcoConstruct</span>\r\n  </div>\r\n\r\n  <nav class=\"nav flex-column\">\r\n\r\n    <small class=\"text-uppercase text-white-50 mb-2\">Principal</small>\r\n\r\n    <a\r\n      routerLink=\"/dashboard\"\r\n      routerLinkActive=\"active\"\r\n      [routerLinkActiveOptions]=\"{ exact: true }\"\r\n      class=\"nav-link text-white\"\r\n    >\r\n      <i class=\"bi bi-speedometer2 me-2\"></i>\r\n      Dashboard\r\n    </a>\r\n\r\n    <a\r\n      routerLink=\"/gestion-obras\"\r\n      routerLinkActive=\"active\"\r\n      class=\"nav-link text-white\"\r\n    >\r\n      <i class=\"bi bi-building me-2\"></i>\r\n      Gesti\u00F3n de Obras\r\n    </a>\r\n\r\n    <a\r\n      routerLink=\"/registro-residuos\"\r\n      routerLinkActive=\"active\"\r\n      class=\"nav-link text-white\"\r\n    >\r\n      <i class=\"bi bi-card-checklist me-2\"></i>\r\n      Registro de Residuos\r\n    </a>\r\n\r\n    <a\r\n      routerLink=\"/transporte\"\r\n      routerLinkActive=\"active\"\r\n      class=\"nav-link text-white\"\r\n    >\r\n      <i class=\"bi bi-truck me-2\"></i>\r\n      Transporte\r\n    </a>\r\n\r\n    <a\r\n      routerLink=\"/inventario\"\r\n      routerLinkActive=\"active\"\r\n      class=\"nav-link text-white\"\r\n    >\r\n      <i class=\"bi bi-box-seam me-2\"></i>\r\n      Inventario\r\n    </a>\r\n\r\n    <a\r\n      routerLink=\"/historial-trazabilidad\"\r\n      routerLinkActive=\"active\"\r\n      class=\"nav-link text-white\"\r\n    >\r\n      <i class=\"bi bi-clock-history me-2\"></i>\r\n      Historial y Trazabilidad\r\n    </a>\r\n\r\n    <a\r\n      routerLink=\"/reportes\"\r\n      routerLinkActive=\"active\"\r\n      class=\"nav-link text-white\"\r\n    >\r\n      <i class=\"bi bi-bar-chart me-2\"></i>\r\n      Reportes\r\n    </a>\r\n\r\n    <hr class=\"border-light\">\r\n\r\n    <small class=\"text-uppercase text-white-50 mb-2\">Sistema</small>\r\n    <a\r\n      routerLink=\"/perfil\"\r\n      routerLinkActive=\"active\"\r\n      class=\"nav-link text-white\"\r\n    >\r\n      <i class=\"bi bi-person-circle me-2\"></i>\r\n      Perfil\r\n    </a>\r\n          <a routerLink=\"/usuarios\"\r\n         routerLinkActive=\"active\"\r\n         class=\"nav-link text-white mt-2\">\r\n        <i class=\"bi bi-people me-2\"></i>Usuarios\r\n    </a>\r\n    <a\r\n      href=\"#\"\r\n      (click)=\"logout()\"\r\n      class=\"nav-link text-white mt-2\"\r\n    >\r\n      <i class=\"bi bi-box-arrow-right me-2\"></i>\r\n      Cerrar Sesi\u00F3n\r\n    </a>\r\n  </nav>\r\n</aside>\r\n\r\n  <main class=\"flex-grow-1 overflow-auto p-4\">\r\n\r\n    <div class=\"d-flex justify-content-between align-items-center mb-4\">\r\n      <div>\r\n        <h2 class=\"h4 mb-1\">Gesti\u00F3n de Obras</h2>\r\n        <small class=\"text-muted\">\r\n          Administra y supervisa todas las obras de construcci\u00F3n\r\n        </small>\r\n      </div>\r\n    <button\r\n      class=\"btn btn-success\"\r\n      routerLink=\"/gestion-obras/nueva\"\r\n    >\r\n    <i class=\"bi bi-plus-lg me-1\"></i> Nueva Obra\r\n    </button>\r\n    </div>\r\n\r\n    <div class=\"row gy-4\">\r\n      <div class=\"col-12\" *ngFor=\"let obra of obras\">\r\n        <div class=\"card obra-card p-4 shadow-sm\">\r\n          <div class=\"d-flex justify-content-between align-items-start\">\r\n            <div>\r\n              <h5 class=\"mb-1\">\r\n                <i class=\"bi bi-building me-2\"></i>{{ obra.titulo }}\r\n              </h5>\r\n              <div class=\"text-muted small\">\r\n                <i class=\"bi bi-geo-alt me-1\"></i>{{ obra.ubicacion }}\r\n                <span class=\"mx-2\">|</span>\r\n                <i class=\"bi bi-people me-1\"></i>{{ obra.constructora }}\r\n                <span class=\"mx-2\">|</span>\r\n                <i class=\"bi bi-calendar-event me-1\"></i>\r\n                {{ obra.fechaInicio }} \u2013 {{ obra.fechaFin }}\r\n              </div>\r\n            </div>\r\n            <span class=\"badge\"\r\n                  [class.bg-success]=\"obra.estado==='En progreso'\"\r\n                  [class.bg-secondary]=\"obra.estado==='Finalizando'\">\r\n              {{ obra.estado }}\r\n            </span>\r\n          </div>\r\n\r\n          <hr class=\"my-3\">\r\n\r\n          <div class=\"d-flex justify-content-between align-items-center flex-wrap\">\r\n            <div>\r\n              <small class=\"text-muted\">Encargado Ambiental</small>\r\n              <div>{{ obra.encargado }}</div>\r\n            </div>\r\n            <div class=\"btn-group\">\r\n              <button class=\"btn btn-outline-secondary btn-sm\">\r\n                <i class=\"bi bi-eye me-1\"></i> Ver Detalles\r\n              </button>\r\n              <button class=\"btn btn-outline-secondary btn-sm\">\r\n                <i class=\"bi bi-pencil me-1\"></i> Editar\r\n              </button>\r\n            </div>\r\n            <div class=\"d-flex align-items-center\">\r\n              <div class=\"progress me-2\" style=\"width:180px; height:.6rem;\">\r\n                <div class=\"progress-bar bg-success\" role=\"progressbar\"\r\n                     [style.width.%]=\"obra.progreso\">\r\n                </div>\r\n              </div>\r\n              <small>{{ obra.progreso }}%</small>\r\n            </div>\r\n            <div class=\"text-end\">\r\n              <small class=\"text-muted\">Total Residuos</small>\r\n              <div>{{ obra.totalResiduos }} m\u00B3</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </main>\r\n</div>\r\n", "/* src/app/pages/gestion-obras/gestion-obras.css */\n.sidebar {\n  width: 240px;\n  background-color: #16a249;\n  color: white;\n  padding: 2rem 1rem;\n  display: flex;\n  flex-direction: column;\n}\n.logo-icon {\n  font-size: 1.5rem;\n}\n.brand {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  margin-bottom: 2rem;\n}\n.brand-name {\n  font-weight: 700;\n  font-size: 1.2rem;\n}\n.nav-section {\n  flex: 1;\n}\n.nav-section-title {\n  text-transform: uppercase;\n  font-size: 0.75rem;\n  opacity: 0.7;\n  margin: 1rem 0 0.5rem;\n}\n.nav-link {\n  color: white;\n  font-size: 0.9rem;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.25rem 0;\n  text-decoration: none;\n  transition: opacity .2s;\n}\n.nav-link.active,\n.nav-link:hover {\n  opacity: 0.8;\n}\n.obra-card {\n  border-radius: .75rem;\n}\n.obra-card h5 {\n  font-weight: 600;\n}\n.obra-card .badge {\n  font-size: .75rem;\n  text-transform: none;\n  padding: .4em .8em;\n}\n.progress {\n  background-color: #e9ecef;\n}\n.progress-bar {\n  transition: width .6s ease;\n}\n@media (max-width: 576px) {\n  .obra-card .d-flex.flex-wrap {\n    flex-direction: column;\n    gap: 1rem;\n  }\n  .obra-card .progress {\n    width: 100% !important;\n  }\n}\n/*# sourceMappingURL=gestion-obras.css.map */\n", "import { Component } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { Router, RouterModule } from '@angular/router';\r\n\r\ninterface Obra {\r\n  id: number;\r\n  titulo: string;\r\n  ubicacion: string;\r\n  constructora: string;\r\n  fechaInicio: string;\r\n  fechaFin: string;\r\n  encargado: string;\r\n  progreso: number;\r\n  totalResiduos: number;\r\n  estado: 'En progreso' | 'Finalizando';\r\n}\r\n\r\n@Component({\r\n  selector: 'app-gestion-obras',\r\n  standalone: true,\r\n  imports: [CommonModule, RouterModule],\r\n  templateUrl: './gestion-obras.html',\r\n  styleUrls: ['./gestion-obras.css']\r\n})\r\nexport class GestionObrasComponent {\r\n\r\n  constructor(private router: Router) {}\r\n\r\n  obras: Obra[] = [\r\n    {\r\n      id: 1,\r\n      titulo: 'Torre Residencial Norte',\r\n      ubicacion: 'Las Condes, Santiago',\r\n      constructora: 'Constructora ABC',\r\n      fechaInicio: '2024-01-15',\r\n      fechaFin: '2024-12-30',\r\n      encargado: 'Juan Pérez',\r\n      progreso: 78,\r\n      totalResiduos: 245,\r\n      estado: 'En progreso'\r\n    },\r\n    {\r\n      id: 2,\r\n      titulo: 'Centro Comercial Plaza',\r\n      ubicacion: 'Providencia, Santiago',\r\n      constructora: 'Ingeniería XYZ',\r\n      fechaInicio: '2024-02-01',\r\n      fechaFin: '2025-01-15',\r\n      encargado: 'María García',\r\n      progreso: 45,\r\n      totalResiduos: 158,\r\n      estado: 'En progreso'\r\n    },\r\n    {\r\n      id: 3,\r\n      titulo: 'Edificio Corporativo',\r\n      ubicacion: 'Vitacura, Santiago',\r\n      constructora: 'Construcciones DEF',\r\n      fechaInicio: '2023-10-01',\r\n      fechaFin: '2024-03-30',\r\n      encargado: 'Carlos López',\r\n      progreso: 92,\r\n      totalResiduos: 89,\r\n      estado: 'Finalizando'\r\n    }\r\n  ];\r\n\r\n  logout() {\r\n    localStorage.clear();\r\n    sessionStorage.clear();\r\n    this.router.navigate(['/login']);\r\n  }\r\n}\r\n", "import { ComponentFixture, TestBed } from '@angular/core/testing';\r\nimport { GestionObrasComponent } from './gestion-obras';\r\nimport { Router } from '@angular/router';\r\nimport { RouterTestingModule } from '@angular/router/testing';\r\n\r\ndescribe('GestionObrasComponent', () => {\r\n  let component: GestionObrasComponent;\r\n  let fixture: ComponentFixture<GestionObrasComponent>;\r\n  let routerSpy: jasmine.SpyObj<Router>;\r\n\r\n  beforeEach(async () => {\r\n    routerSpy = jasmine.createSpyObj('Router', ['navigate']);\r\n\r\n    await TestBed.configureTestingModule({\r\n      imports: [GestionObrasComponent, RouterTestingModule],\r\n      providers: [\r\n        { provide: Router, useValue: routerSpy }\r\n      ]\r\n    }).compileComponents();\r\n\r\n    fixture = TestBed.createComponent(GestionObrasComponent);\r\n    component = fixture.componentInstance;\r\n    fixture.detectChanges();\r\n  });\r\n\r\n  it('debería crear el componente', () => {\r\n    expect(component).toBeTruthy();\r\n  });\r\n\r\n  it('debería tener una lista de obras definida', () => {\r\n    expect(component.obras.length).toBeGreaterThan(0);\r\n  });\r\n\r\n  it('logout debería limpiar almacenamiento y redirigir a login', () => {\r\n    localStorage.setItem('test', 'value');\r\n    sessionStorage.setItem('test', 'value');\r\n\r\n    component.logout();\r\n\r\n    expect(localStorage.getItem('test')).toBeNull();\r\n    expect(sessionStorage.getItem('test')).toBeNull();\r\n    expect(routerSpy.navigate).toHaveBeenCalledWith(['/login']);\r\n  });\r\n});\r\n"],
  "mappings": "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",
  "names": ["gestion_obras_default", "init_gestion_obras", "GestionObrasComponent", "init_gestion_obras", "init_testing"]
}
